<%= render 'shared/errors', :target => @license %>

<div class="span8">
  <%= form_for @license do |f| %>
    <% if controller.action_name != 'show' %>
      <%= f.label :title %>
      <%= f.text_field :title, :class => 'span7' %>
    <% end %>

    <%= f.label :license_key %>
    <%= f.text_field :license_key, :class => 'span7' %>

    <%= f.label :licensed_to %>
    <%= f.text_field :licensed_to, :class => 'span7' %>

    <%= f.label :comments %>
    <%= f.text_area :comments, :class => 'span8', :rows => 6 %>
    
    <% if controller.action_name != 'show' %>
      <fieldset>
        <legend>Groups</legend>
        <br />
        <%= hidden_field_tag "software_license[group_ids][]", nil%>
        <% @allowed_groups.each do |group| %>
          <label class="checkbox inline">
            <%= check_box_tag 'software_license[group_ids][]', group.id, @license.groups.include?(group) %>
            <%= group.name %>
          </label>
        <% end %>
      </fieldset>

      <hr/>
      <button type="submit" class="btn"><%= @license.new_record? ? 'Create' : 'Update' %> License</button>
    <% end %>
  <% end %>
</div>
